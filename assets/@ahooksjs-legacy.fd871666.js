!function(){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}System.register(["./react-legacy.0e757699.js","./lodash.debounce-legacy.423d1dd4.js","./lodash.throttle-legacy.7ad5f0af.js"],(function(e){"use strict";var r,n,o,i;return{setters:[function(t){r=t.r,n=t.R},function(t){o=t.l},function(t){i=t.l}],execute:function(){function a(){return"undefined"==typeof document||void 0===document.visibilityState||"hidden"!==document.visibilityState}e("u",(function(e,n){void 0===n&&(n={});var o=r.exports.useContext(M),i=F(F({},o),n),a=i.paginated,u=i.loadMore,c=i.requestMethod,l=r.exports.useRef(a),s=r.exports.useRef(u);if(l.current!==a)throw Error("You should not modify the paginated of options");if(s.current!==u)throw Error("You should not modify the loadMore of options");l.current=a,s.current=u;var f,h=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return fetch.apply(void 0,z(t)).then((function(t){if(t.ok)return t.json();throw new Error(t.statusText)}))},d=c||h;switch(t(e)){case"string":f=function(){return d(e)};break;case"object":var v=e.url,y=L(e,["url"]);f=function(){return c?c(e):h(v,y)};break;default:f=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new Promise((function(n,o){var i=e.apply(void 0,z(r)),a=i;if(!i.then)switch(t(i)){case"string":a=d(i);break;case"object":var u=i.url,l=L(i,["url"]);a=c?c(i):h(u,l)}a.then(n).catch(o)}))}}if(u)return function(t,e){var n=e.refreshDeps,o=void 0===n?[]:n,i=e.ref,a=e.isNoMore,u=e.threshold,c=void 0===u?100:u;e.fetchKey;var l=j(e,["refreshDeps","ref","isNoMore","threshold","fetchKey"]),s=P(r.exports.useState(!1),2),f=s[0],h=s[1];r.exports.useEffect((function(){e.fetchKey&&console.warn("useRequest loadMore mode don't need fetchKey!")}),[]);var d=E(t,R(R({},l),{fetchKey:function(t){var e;return(null===(e=null==t?void 0:t.list)||void 0===e?void 0:e.length)||0},onSuccess:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];h(!1),e.onSuccess&&e.onSuccess.apply(e,D(t))}})),v=d.data,y=d.run,g=d.params,m=d.reset,b=d.loading,w=d.fetches,x=r.exports.useCallback((function(){m();var t=P(g).slice(1);y.apply(void 0,D([void 0],t))}),[y,m,g]),O=r.exports.useRef(x);O.current=x,p((function(){e.manual||O.current()}),D(o));var S=r.exports.useMemo((function(){var t=[],e=v;return Object.values(w).forEach((function(r){var n,o;(null===(n=r.data)||void 0===n?void 0:n.list)&&(t=t.concat(null===(o=r.data)||void 0===o?void 0:o.list)),r.loading||(e=r.data)})),R(R({},e),{list:t})}),[w,v]),T=!!a&&(!b&&!f&&a(S)),C=r.exports.useCallback((function(){if(!T){h(!0);var t=P(g).slice(1);y.apply(void 0,D([S],t))}}),[T,y,S,g]),k=function(){!b&&!f&&i&&i.current&&i.current.scrollHeight-i.current.scrollTop<=i.current.clientHeight+c&&C()},I=r.exports.useRef(k);return I.current=k,r.exports.useEffect((function(){if(!i||!i.current)return function(){};var t=function(){return I.current()};return i.current.addEventListener("scroll",t),function(){i&&i.current&&i.current.removeEventListener("scroll",t)}}),[I]),R(R({},d),{data:S,reload:x,loading:b&&0===S.list.length,loadMore:C,loadingMore:f,noMore:T})}(f,i);if(a)return function(t,e){e.paginated;var n=e.defaultPageSize,o=void 0===n?10:n,i=e.refreshDeps,a=void 0===i?[]:i,u=e.fetchKey,c=k(e,["paginated","defaultPageSize","refreshDeps","fetchKey"]);r.exports.useEffect((function(){u&&console.error("useRequest pagination's fetchKey will not work!")}),[]);var l=E(t,C({defaultParams:[{current:1,pageSize:o}]},c)),s=l.data,f=l.params,h=l.run,d=l.loading,v=k(l,["data","params","run","loading"]),y=f&&f[0]?f[0]:{},g=y.current,m=void 0===g?1:g,b=y.pageSize,w=void 0===b?o:b,x=y.sorter,O=void 0===x?{}:x,S=y.filters,T=void 0===S?{}:S,R=r.exports.useCallback((function(t){var e=I(f),r=e[0],n=e.slice(1);h.apply(void 0,K([C(C({},r),t)],n))}),[h,f]),j=(null==s?void 0:s.total)||0,P=r.exports.useMemo((function(){return Math.ceil(j/w)}),[w,j]),D=r.exports.useCallback((function(t,e){R({current:t,pageSize:e})}),[j,R]),M=r.exports.useCallback((function(t){D(t,w)}),[D,w]),F=r.exports.useCallback((function(t){D(m,t)}),[D,m]),L=r.exports.useRef(M);L.current=M,p((function(){e.manual||L.current(1)}),K(a));var W=r.exports.useCallback((function(t,e,r){R({current:t.current,pageSize:t.pageSize||o,filters:e,sorter:r})}),[T,O,R]);return C({loading:d,data:s,params:f,run:h,pagination:{current:m,pageSize:w,total:j,totalPage:P,onChange:D,changeCurrent:M,changePageSize:F},tableProps:{dataSource:(null==s?void 0:s.list)||[],loading:d,onChange:W,pagination:{current:m,pageSize:w,total:j}},sorter:O,filters:T},v)}(f,i);return E(f,i)}));var u=new Map,c=function(t){var e=u.get(t);return{data:null==e?void 0:e.data,startTime:null==e?void 0:e.startTime}},l=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t};var f=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},h=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t};function d(t){var e=r.exports.useRef((function(){throw new Error("Cannot call an event handler while rendering.")}));e.current=t;var n=r.exports.useCallback((function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=e.current;if(n)return n.apply(void 0,h(t))}),[e]);if("function"==typeof t)return n}var p=function(t,e){var n=r.exports.useRef(!1);r.exports.useEffect((function(){return function(){n.current=!1}}),[]),r.exports.useEffect((function(){if(n.current)return t();n.current=!0}),e)},v=[];var y=!1;if("undefined"!=typeof window&&window.addEventListener&&!y){var g=function(){if(a()&&(void 0===navigator.onLine||navigator.onLine))for(var t=0;t<v.length;t++){(0,v[t])()}};window.addEventListener("visibilitychange",g,!1),window.addEventListener("focus",g,!1),y=!0}var m=[];var b=!1;if("undefined"!=typeof window&&window.addEventListener&&!b){window.addEventListener("visibilitychange",(function(){if(a())for(var t=0;t<m.length;t++){(0,m[t])()}}),!1),b=!0}var w=function(){return(w=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},x=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},O=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(x(arguments[e]));return t},S="AHOOKS_USE_REQUEST_DEFAULT_KEY",T=function(){function t(t,e,r,n){var a,u,c,l;this.count=0,this.pollingWhenVisibleFlag=!1,this.pollingTimer=void 0,this.loadingDelayTimer=void 0,this.unsubscribe=[],this.that=this,this.state={loading:!1,params:[],data:void 0,error:void 0,run:this.run.bind(this.that),mutate:this.mutate.bind(this.that),refresh:this.refresh.bind(this.that),cancel:this.cancel.bind(this.that),unmount:this.unmount.bind(this.that)},this.service=t,this.config=e,this.subscribe=r,n&&(this.state=w(w({},this.state),n)),this.debounceRun=this.config.debounceInterval?o(this._run,this.config.debounceInterval):void 0,this.throttleRun=this.config.throttleInterval?i(this._run,this.config.throttleInterval):void 0,this.limitRefresh=(a=this.refresh.bind(this),u=this.config.focusTimespan,c=!1,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,a.apply(void 0,s(t)),setTimeout((function(){c=!1}),u))}),this.config.pollingInterval&&this.unsubscribe.push((l=this.rePolling.bind(this),m.push(l),function(){var t=m.indexOf(l);m.splice(t,1)})),this.config.refreshOnWindowFocus&&this.unsubscribe.push(function(t){return v.push(t),function(){var e=v.indexOf(t);v.splice(e,1)}}(this.limitRefresh.bind(this)))}return t.prototype.setState=function(t){void 0===t&&(t={}),this.state=w(w({},this.state),t),this.subscribe(this.state)},t.prototype._run=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.pollingTimer&&clearTimeout(this.pollingTimer),this.loadingDelayTimer&&clearTimeout(this.loadingDelayTimer),this.count+=1;var n=this.count;return this.setState({loading:!this.config.loadingDelay,params:e}),this.config.loadingDelay&&(this.loadingDelayTimer=setTimeout((function(){t.setState({loading:!0})}),this.config.loadingDelay)),this.service.apply(this,O(e)).then((function(r){if(n!==t.count)return new Promise((function(){}));t.loadingDelayTimer&&clearTimeout(t.loadingDelayTimer);var o=t.config.formatResult?t.config.formatResult(r):r;return t.setState({data:o,error:void 0,loading:!1}),t.config.onSuccess&&t.config.onSuccess(o,e),o})).catch((function(r){if(n!==t.count)return new Promise((function(){}));if(t.loadingDelayTimer&&clearTimeout(t.loadingDelayTimer),t.setState({data:void 0,error:r,loading:!1}),t.config.onError&&t.config.onError(r,e),t.config.throwOnError)throw r;return console.error(r),Promise.reject("useRequest has caught the exception, if you need to handle the exception yourself, you can set options.throwOnError to true.")})).finally((function(){if(n===t.count&&t.config.pollingInterval){if(!a()&&!t.config.pollingWhenHidden)return void(t.pollingWhenVisibleFlag=!0);t.pollingTimer=setTimeout((function(){t._run.apply(t,O(e))}),t.config.pollingInterval)}}))},t.prototype.run=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.debounceRun?(this.debounceRun.apply(this,O(t)),Promise.resolve(null)):this.throttleRun?(this.throttleRun.apply(this,O(t)),Promise.resolve(null)):this._run.apply(this,O(t))},t.prototype.cancel=function(){this.debounceRun&&this.debounceRun.cancel(),this.throttleRun&&this.throttleRun.cancel(),this.loadingDelayTimer&&clearTimeout(this.loadingDelayTimer),this.pollingTimer&&clearTimeout(this.pollingTimer),this.pollingWhenVisibleFlag=!1,this.count+=1,this.setState({loading:!1})},t.prototype.refresh=function(){return this.run.apply(this,O(this.state.params))},t.prototype.rePolling=function(){this.pollingWhenVisibleFlag&&(this.pollingWhenVisibleFlag=!1,this.refresh())},t.prototype.mutate=function(t){"function"==typeof t?this.setState({data:t(this.state.data)||{}}):this.setState({data:t})},t.prototype.unmount=function(){this.cancel(),this.unsubscribe.forEach((function(t){t()}))},t}();function E(t,e){var n,o=e||{},i=o.refreshDeps,a=void 0===i?[]:i,l=o.manual,s=void 0!==l&&l,f=o.onSuccess,h=void 0===f?function(){}:f,v=o.onError,y=void 0===v?function(){}:v,g=o.defaultLoading,m=void 0!==g&&g,b=o.loadingDelay,E=o.pollingInterval,R=void 0===E?0:E,j=o.pollingWhenHidden,P=void 0===j||j,D=o.defaultParams,C=void 0===D?[]:D,k=o.refreshOnWindowFocus,I=void 0!==k&&k,K=o.focusTimespan,M=void 0===K?5e3:K,F=o.fetchKey,L=o.cacheKey,W=o.cacheTime,z=void 0===W?3e5:W,_=o.staleTime,H=void 0===_?0:_,q=o.debounceInterval,V=o.throttleInterval,U=o.initialData,Y=o.ready,N=void 0===Y||Y,A=o.throwOnError,Q=void 0!==A&&A,B=r.exports.useRef(S),G=d(t),J=d(h),X=d(y),Z=d(F);"formatResult"in o&&(n=o.formatResult);var $={formatResult:d(n),onSuccess:J,onError:X,loadingDelay:b,pollingInterval:R,pollingWhenHidden:P,refreshOnWindowFocus:!s&&I,focusTimespan:M,debounceInterval:q,throttleInterval:V,throwOnError:Q},tt=d((function(t,e){nt((function(r){return r[t]=e,w({},r)}))})),et=x(r.exports.useState((function(){var t;if(L){var e=null===(t=c(L))||void 0===t?void 0:t.data;if(e){B.current=e.newstFetchKey;var r={};return Object.keys(e.fetches).forEach((function(t){var n=e.fetches[t],o=new T(G,$,tt.bind(null,t),{loading:n.loading,params:n.params,data:n.data,error:n.error});r[t]=o.state})),r}}return{}})),2),rt=et[0],nt=et[1],ot=r.exports.useRef(rt);ot.current=rt;var it=r.exports.useRef(),at=r.exports.useCallback((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(N){if(Z){var r=Z.apply(void 0,O(t));B.current=void 0===r?S:r}var n=B.current,o=ot.current[n];if(!o){var i=new T(G,$,tt.bind(null,n),{data:U});o=i.state,nt((function(t){return t[n]=o,w({},t)}))}return o.run.apply(o,O(t))}it.current=t}),[F,tt,N]),ut=r.exports.useRef(at);ut.current=at,p((function(){L&&function(t,e,r){var n=u.get(t);(null==n?void 0:n.timer)&&clearTimeout(n.timer);var o=void 0;e>-1&&(o=setTimeout((function(){u.delete(t)}),e)),u.set(t,{data:r,timer:o,startTime:(new Date).getTime()})}(L,z,{fetches:rt,newstFetchKey:B.current})}),[L,rt]);var ct=r.exports.useRef(!1);p((function(){N&&(!ct.current&&it.current&&ut.current.apply(ut,O(it.current)),ct.current=!0)}),[N]),r.exports.useEffect((function(){var t;if(!s)if(Object.keys(rt).length>0){var e=L&&(null===(t=c(L))||void 0===t?void 0:t.startTime)||0;-1===H||(new Date).getTime()-e<=H||Object.values(rt).forEach((function(t){t.refresh()}))}else ut.current.apply(ut,O(C))}),[]);var lt=r.exports.useCallback((function(){Object.values(ot.current).forEach((function(t){t.unmount()})),B.current=S,nt({}),ot.current={}}),[nt]);p((function(){s||Object.values(ot.current).forEach((function(t){t.refresh()}))}),O(a)),r.exports.useEffect((function(){return function(){Object.values(ot.current).forEach((function(t){t.unmount()}))}}),[]);var st=r.exports.useCallback((function(t){return function(){console.warn("You should't call "+t+" when service not executed once.")}}),[]);return w(w({loading:N&&!s||m,data:U,error:void 0,params:[],cancel:st("cancel"),refresh:st("refresh"),mutate:st("mutate")},rt[B.current]||{}),{run:at,fetches:rt,reset:lt})}var R=function(){return(R=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},j=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r},P=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},D=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(P(arguments[e]));return t};var C=function(){return(C=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},k=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r},I=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},K=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(I(arguments[e]));return t};var M=n.createContext({});M.displayName="UseRequestConfigContext";var F=function(){return(F=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},L=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r},W=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},z=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(W(arguments[e]));return t};M.Provider}}}))}();

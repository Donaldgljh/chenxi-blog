import{r as e,t,C as r,_ as n,s as o,v as i,w as a,x as s,R as c,y as u,z as f}from"./vendor.86d84b6d.js";import{u as l,r as p,a as d}from"./index.696694ce.js";var h=e.exports.createContext({});t("top","middle","bottom","stretch"),t("start","end","center","space-around","space-between");var v=e.exports.forwardRef((function(t,c){var u,f=t.prefixCls,v=t.justify,m=t.align,y=t.className,g=t.style,b=t.children,x=t.gutter,w=void 0===x?0:x,O=t.wrap,E=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(t,["prefixCls","justify","align","className","style","children","gutter","wrap"]),j=e.exports.useContext(r),S=j.getPrefixCls,T=j.direction,R=e.exports.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),C=n(R,2),P=C[0],N=C[1],A=l(),D=e.exports.useRef(w);e.exports.useEffect((function(){var e=p.subscribe((function(e){var t=D.current||0;(!Array.isArray(t)&&"object"===o(t)||Array.isArray(t)&&("object"===o(t[0])||"object"===o(t[1])))&&N(e)}));return function(){return p.unsubscribe(e)}}),[]);var k,L=S("row",f),U=(k=[0,0],(Array.isArray(w)?w:[w,0]).forEach((function(e,t){if("object"===o(e))for(var r=0;r<d.length;r++){var n=d[r];if(P[n]&&void 0!==e[n]){k[t]=e[n];break}}else k[t]=e||0})),k),B=i(L,(a(u={},"".concat(L,"-no-wrap"),!1===O),a(u,"".concat(L,"-").concat(v),v),a(u,"".concat(L,"-").concat(m),m),a(u,"".concat(L,"-rtl"),"rtl"===T),u),y),F={},I=U[0]>0?U[0]/-2:void 0,q=U[1]>0?U[1]/-2:void 0;if(I&&(F.marginLeft=I,F.marginRight=I),A){var M=n(U,2);F.rowGap=M[1]}else q&&(F.marginTop=q,F.marginBottom=q);var z=e.exports.useMemo((function(){return{gutter:U,wrap:O,supportFlexGap:A}}),[U,O,A]);return e.exports.createElement(h.Provider,{value:z},e.exports.createElement("div",s({},E,{className:B,style:s(s({},F),g),ref:c}),b))}));v.displayName="Row";var m=["xs","sm","md","lg","xl","xxl"],y=e.exports.forwardRef((function(t,n){var c,u=e.exports.useContext(r),f=u.getPrefixCls,l=u.direction,p=e.exports.useContext(h),d=p.gutter,v=p.wrap,y=p.supportFlexGap,g=t.prefixCls,b=t.span,x=t.order,w=t.offset,O=t.push,E=t.pull,j=t.className,S=t.children,T=t.flex,R=t.style,C=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(t,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),P=f("col",g),N={};m.forEach((function(e){var r,n={},i=t[e];"number"==typeof i?n.span=i:"object"===o(i)&&(n=i||{}),delete C[e],N=s(s({},N),(a(r={},"".concat(P,"-").concat(e,"-").concat(n.span),void 0!==n.span),a(r,"".concat(P,"-").concat(e,"-order-").concat(n.order),n.order||0===n.order),a(r,"".concat(P,"-").concat(e,"-offset-").concat(n.offset),n.offset||0===n.offset),a(r,"".concat(P,"-").concat(e,"-push-").concat(n.push),n.push||0===n.push),a(r,"".concat(P,"-").concat(e,"-pull-").concat(n.pull),n.pull||0===n.pull),a(r,"".concat(P,"-rtl"),"rtl"===l),r))}));var A=i(P,(a(c={},"".concat(P,"-").concat(b),void 0!==b),a(c,"".concat(P,"-order-").concat(x),x),a(c,"".concat(P,"-offset-").concat(w),w),a(c,"".concat(P,"-push-").concat(O),O),a(c,"".concat(P,"-pull-").concat(E),E),c),j,N),D={};if(d&&d[0]>0){var k=d[0]/2;D.paddingLeft=k,D.paddingRight=k}if(d&&d[1]>0&&!y){var L=d[1]/2;D.paddingTop=L,D.paddingBottom=L}return T&&(D.flex=function(e){return"number"==typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(T),"auto"!==T||!1!==v||D.minWidth||(D.minWidth=0)),e.exports.createElement("div",s({},C,{style:s(s({},D),R),className:A,ref:n}),S)}));y.displayName="Col";var g=e.exports.memo((e=>{const{title:t}=e;return c.createElement("div",{className:"overview-item"},c.createElement("div",{className:"overview-item-header"},c.createElement("span",{className:"title"},t)),c.createElement("div",{className:"overview-item-content"}))}));var b=e.exports.memo((()=>c.createElement(v,{gutter:24},c.createElement(y,{span:8},c.createElement(g,{title:"公告"})),c.createElement(y,{span:8},c.createElement(g,{title:"待办"}))))),x={exports:{}},w=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}},O=w,E=Object.prototype.toString;function j(e){return"[object Array]"===E.call(e)}function S(e){return void 0===e}function T(e){return null!==e&&"object"==typeof e}function R(e){if("[object Object]"!==E.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function C(e){return"[object Function]"===E.call(e)}function P(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),j(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var N={isArray:j,isArrayBuffer:function(e){return"[object ArrayBuffer]"===E.call(e)},isBuffer:function(e){return null!==e&&!S(e)&&null!==e.constructor&&!S(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:T,isPlainObject:R,isUndefined:S,isDate:function(e){return"[object Date]"===E.call(e)},isFile:function(e){return"[object File]"===E.call(e)},isBlob:function(e){return"[object Blob]"===E.call(e)},isFunction:C,isStream:function(e){return T(e)&&C(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:P,merge:function e(){var t={};function r(r,n){R(t[n])&&R(r)?t[n]=e(t[n],r):R(r)?t[n]=e({},r):j(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)P(arguments[n],r);return t},extend:function(e,t,r){return P(t,(function(t,n){e[n]=r&&"function"==typeof t?O(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}},A=N;function D(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var k=function(e,t,r){if(!t)return e;var n;if(r)n=r(t);else if(A.isURLSearchParams(t))n=t.toString();else{var o=[];A.forEach(t,(function(e,t){null!=e&&(A.isArray(e)?t+="[]":e=[e],A.forEach(e,(function(e){A.isDate(e)?e=e.toISOString():A.isObject(e)&&(e=JSON.stringify(e)),o.push(D(t)+"="+D(e))})))})),n=o.join("&")}if(n){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e},L=N;function U(){this.handlers=[]}U.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},U.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},U.prototype.forEach=function(e){L.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var B=U,F=N,I=function(e){return!(!e||!e.__CANCEL__)},q=N,M=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},z=function(e,t,r,n,o){var i=new Error(e);return M(i,t,r,n,o)},W=z,_=N,K=_.isStandardBrowserEnv()?{write:function(e,t,r,n,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),_.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),_.isString(n)&&a.push("path="+n),_.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},H=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},$=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},V=N,X=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],G=N,J=G.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){var r=G.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0},Y=N,Q=function(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(W("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)},Z=K,ee=k,te=function(e,t){return e&&!H(t)?$(e,t):t},re=function(e){var t,r,n,o={};return e?(V.forEach(e.split("\n"),(function(e){if(n=e.indexOf(":"),t=V.trim(e.substr(0,n)).toLowerCase(),r=V.trim(e.substr(n+1)),t){if(o[t]&&X.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([r]):o[t]?o[t]+", "+r:r}})),o):o},ne=J,oe=z,ie=function(e){return new Promise((function(t,r){var n=e.data,o=e.headers;Y.isFormData(n)&&delete o["Content-Type"];var i=new XMLHttpRequest;if(e.auth){var a=e.auth.username||"",s=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.Authorization="Basic "+btoa(a+":"+s)}var c=te(e.baseURL,e.url);if(i.open(e.method.toUpperCase(),ee(c,e.params,e.paramsSerializer),!0),i.timeout=e.timeout,i.onreadystatechange=function(){if(i&&4===i.readyState&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in i?re(i.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?i.response:i.responseText,status:i.status,statusText:i.statusText,headers:n,config:e,request:i};Q(t,r,o),i=null}},i.onabort=function(){i&&(r(oe("Request aborted",e,"ECONNABORTED",i)),i=null)},i.onerror=function(){r(oe("Network Error",e,null,i)),i=null},i.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(oe(t,e,"ECONNABORTED",i)),i=null},Y.isStandardBrowserEnv()){var u=(e.withCredentials||ne(c))&&e.xsrfCookieName?Z.read(e.xsrfCookieName):void 0;u&&(o[e.xsrfHeaderName]=u)}if("setRequestHeader"in i&&Y.forEach(o,(function(e,t){void 0===n&&"content-type"===t.toLowerCase()?delete o[t]:i.setRequestHeader(t,e)})),Y.isUndefined(e.withCredentials)||(i.withCredentials=!!e.withCredentials),e.responseType)try{i.responseType=e.responseType}catch(f){if("json"!==e.responseType)throw f}"function"==typeof e.onDownloadProgress&&i.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){i&&(i.abort(),r(e),i=null)})),n||(n=null),i.send(n)}))},ae=N,se=function(e,t){q.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))},ce={"Content-Type":"application/x-www-form-urlencoded"};function ue(e,t){!ae.isUndefined(e)&&ae.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var fe,le={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(fe=ie),fe),transformRequest:[function(e,t){return se(t,"Accept"),se(t,"Content-Type"),ae.isFormData(e)||ae.isArrayBuffer(e)||ae.isBuffer(e)||ae.isStream(e)||ae.isFile(e)||ae.isBlob(e)?e:ae.isArrayBufferView(e)?e.buffer:ae.isURLSearchParams(e)?(ue(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):ae.isObject(e)?(ue(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};le.headers={common:{Accept:"application/json, text/plain, */*"}},ae.forEach(["delete","get","head"],(function(e){le.headers[e]={}})),ae.forEach(["post","put","patch"],(function(e){le.headers[e]=ae.merge(ce)}));var pe=le,de=N,he=function(e,t,r){return F.forEach(r,(function(r){e=r(e,t)})),e},ve=I,me=pe;function ye(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var ge=N,be=function(e,t){t=t||{};var r={},n=["url","method","data"],o=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function s(e,t){return ge.isPlainObject(e)&&ge.isPlainObject(t)?ge.merge(e,t):ge.isPlainObject(t)?ge.merge({},t):ge.isArray(t)?t.slice():t}function c(n){ge.isUndefined(t[n])?ge.isUndefined(e[n])||(r[n]=s(void 0,e[n])):r[n]=s(e[n],t[n])}ge.forEach(n,(function(e){ge.isUndefined(t[e])||(r[e]=s(void 0,t[e]))})),ge.forEach(o,c),ge.forEach(i,(function(n){ge.isUndefined(t[n])?ge.isUndefined(e[n])||(r[n]=s(void 0,e[n])):r[n]=s(void 0,t[n])})),ge.forEach(a,(function(n){n in t?r[n]=s(e[n],t[n]):n in e&&(r[n]=s(void 0,e[n]))}));var u=n.concat(o).concat(i).concat(a),f=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return ge.forEach(f,c),r},xe=N,we=k,Oe=B,Ee=function(e){return ye(e),e.headers=e.headers||{},e.data=he(e.data,e.headers,e.transformRequest),e.headers=de.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),de.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||me.adapter)(e).then((function(t){return ye(e),t.data=he(t.data,t.headers,e.transformResponse),t}),(function(t){return ve(t)||(ye(e),t&&t.response&&(t.response.data=he(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},je=be;function Se(e){this.defaults=e,this.interceptors={request:new Oe,response:new Oe}}Se.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=je(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[Ee,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},Se.prototype.getUri=function(e){return e=je(this.defaults,e),we(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},xe.forEach(["delete","get","head","options"],(function(e){Se.prototype[e]=function(t,r){return this.request(je(r||{},{method:e,url:t,data:(r||{}).data}))}})),xe.forEach(["post","put","patch"],(function(e){Se.prototype[e]=function(t,r,n){return this.request(je(n||{},{method:e,url:t,data:r}))}}));var Te=Se;function Re(e){this.message=e}Re.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Re.prototype.__CANCEL__=!0;var Ce=Re,Pe=Ce;function Ne(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new Pe(e),t(r.reason))}))}Ne.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Ne.source=function(){var e;return{token:new Ne((function(t){e=t})),cancel:e}};var Ae=Ne,De=N,ke=w,Le=Te,Ue=be;function Be(e){var t=new Le(e),r=ke(Le.prototype.request,t);return De.extend(r,Le.prototype,t),De.extend(r,t),r}var Fe=Be(pe);Fe.Axios=Le,Fe.create=function(e){return Be(Ue(Fe.defaults,e))},Fe.Cancel=Ce,Fe.CancelToken=Ae,Fe.isCancel=I,Fe.all=function(e){return Promise.all(e)},Fe.spread=function(e){return function(t){return e.apply(null,t)}},Fe.isAxiosError=function(e){return"object"==typeof e&&!0===e.isAxiosError},x.exports=Fe,x.exports.default=Fe;const Ie=x.exports.create({baseURL:"",timeout:500});function qe(){return Ie.get("/getList/file")}Ie.interceptors.request.use((e=>e),(e=>(u.error(e),Promise.reject(e)))),Ie.interceptors.response.use((e=>{const t=e.data;if(200===t.code)return t;u.error(t.message)}),(e=>(u.error(e.message),Promise.reject(e))));var Me=/^\s+|\s+$/g,ze=/^[-+]0x[0-9a-f]+$/i,We=/^0b[01]+$/i,_e=/^0o[0-7]+$/i,Ke=parseInt,He="object"==typeof f&&f&&f.Object===Object&&f,$e="object"==typeof self&&self&&self.Object===Object&&self,Ve=He||$e||Function("return this")(),Xe=Object.prototype.toString,Ge=Math.max,Je=Math.min,Ye=function(){return Ve.Date.now()};function Qe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ze(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==Xe.call(e)}(e))return NaN;if(Qe(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Qe(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Me,"");var r=We.test(e);return r||_e.test(e)?Ke(e.slice(2),r?2:8):ze.test(e)?NaN:+e}var et=function(e,t,r){var n,o,i,a,s,c,u=0,f=!1,l=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var r=n,i=o;return n=o=void 0,u=t,a=e.apply(i,r)}function h(e){return u=e,s=setTimeout(m,t),f?d(e):a}function v(e){var r=e-c;return void 0===c||r>=t||r<0||l&&e-u>=i}function m(){var e=Ye();if(v(e))return y(e);s=setTimeout(m,function(e){var r=t-(e-c);return l?Je(r,i-(e-u)):r}(e))}function y(e){return s=void 0,p&&n?d(e):(n=o=void 0,a)}function g(){var e=Ye(),r=v(e);if(n=arguments,o=this,c=e,r){if(void 0===s)return h(c);if(l)return s=setTimeout(m,t),d(c)}return void 0===s&&(s=setTimeout(m,t)),a}return t=Ze(t)||0,Qe(r)&&(f=!!r.leading,i=(l="maxWait"in r)?Ge(Ze(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p),g.cancel=function(){void 0!==s&&clearTimeout(s),u=0,n=c=o=s=void 0},g.flush=function(){return void 0===s?a:y(Ye())},g},tt=/^\s+|\s+$/g,rt=/^[-+]0x[0-9a-f]+$/i,nt=/^0b[01]+$/i,ot=/^0o[0-7]+$/i,it=parseInt,at="object"==typeof f&&f&&f.Object===Object&&f,st="object"==typeof self&&self&&self.Object===Object&&self,ct=at||st||Function("return this")(),ut=Object.prototype.toString,ft=Math.max,lt=Math.min,pt=function(){return ct.Date.now()};function dt(e,t,r){var n,o,i,a,s,c,u=0,f=!1,l=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var r=n,i=o;return n=o=void 0,u=t,a=e.apply(i,r)}function h(e){return u=e,s=setTimeout(m,t),f?d(e):a}function v(e){var r=e-c;return void 0===c||r>=t||r<0||l&&e-u>=i}function m(){var e=pt();if(v(e))return y(e);s=setTimeout(m,function(e){var r=t-(e-c);return l?lt(r,i-(e-u)):r}(e))}function y(e){return s=void 0,p&&n?d(e):(n=o=void 0,a)}function g(){var e=pt(),r=v(e);if(n=arguments,o=this,c=e,r){if(void 0===s)return h(c);if(l)return s=setTimeout(m,t),d(c)}return void 0===s&&(s=setTimeout(m,t)),a}return t=vt(t)||0,ht(r)&&(f=!!r.leading,i=(l="maxWait"in r)?ft(vt(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p),g.cancel=function(){void 0!==s&&clearTimeout(s),u=0,n=c=o=s=void 0},g.flush=function(){return void 0===s?a:y(pt())},g}function ht(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function vt(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==ut.call(e)}(e))return NaN;if(ht(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ht(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(tt,"");var r=nt.test(e);return r||ot.test(e)?it(e.slice(2),r?2:8):rt.test(e)?NaN:+e}var mt=function(e,t,r){var n=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return ht(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),dt(e,t,{leading:n,maxWait:t,trailing:o})};function yt(){return"undefined"==typeof document||void 0===document.visibilityState||"hidden"!==document.visibilityState}var gt=new Map,bt=function(e){var t=gt.get(e);return{data:null==t?void 0:t.data,startTime:null==t?void 0:t.startTime}},xt=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},wt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(xt(arguments[t]));return e};var Ot=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Et=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ot(arguments[t]));return e};function jt(t){var r=e.exports.useRef((function(){throw new Error("Cannot call an event handler while rendering.")}));r.current=t;var n=e.exports.useCallback((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r.current;if(n)return n.apply(void 0,Et(e))}),[r]);if("function"==typeof t)return n}var St=function(t,r){var n=e.exports.useRef(!1);e.exports.useEffect((function(){return function(){n.current=!1}}),[]),e.exports.useEffect((function(){if(n.current)return t();n.current=!0}),r)},Tt=[];var Rt=!1;if("undefined"!=typeof window&&window.addEventListener&&!Rt){var Ct=function(){if(yt()&&(void 0===navigator.onLine||navigator.onLine))for(var e=0;e<Tt.length;e++){(0,Tt[e])()}};window.addEventListener("visibilitychange",Ct,!1),window.addEventListener("focus",Ct,!1),Rt=!0}var Pt=[];var Nt=!1;if("undefined"!=typeof window&&window.addEventListener&&!Nt){window.addEventListener("visibilitychange",(function(){if(yt())for(var e=0;e<Pt.length;e++){(0,Pt[e])()}}),!1),Nt=!0}var At=function(){return(At=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Dt=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},kt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Dt(arguments[t]));return e},Lt="AHOOKS_USE_REQUEST_DEFAULT_KEY",Ut=function(){function e(e,t,r,n){var o,i,a,s;this.count=0,this.pollingWhenVisibleFlag=!1,this.pollingTimer=void 0,this.loadingDelayTimer=void 0,this.unsubscribe=[],this.that=this,this.state={loading:!1,params:[],data:void 0,error:void 0,run:this.run.bind(this.that),mutate:this.mutate.bind(this.that),refresh:this.refresh.bind(this.that),cancel:this.cancel.bind(this.that),unmount:this.unmount.bind(this.that)},this.service=e,this.config=t,this.subscribe=r,n&&(this.state=At(At({},this.state),n)),this.debounceRun=this.config.debounceInterval?et(this._run,this.config.debounceInterval):void 0,this.throttleRun=this.config.throttleInterval?mt(this._run,this.config.throttleInterval):void 0,this.limitRefresh=(o=this.refresh.bind(this),i=this.config.focusTimespan,a=!1,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a||(a=!0,o.apply(void 0,wt(e)),setTimeout((function(){a=!1}),i))}),this.config.pollingInterval&&this.unsubscribe.push((s=this.rePolling.bind(this),Pt.push(s),function(){var e=Pt.indexOf(s);Pt.splice(e,1)})),this.config.refreshOnWindowFocus&&this.unsubscribe.push(function(e){return Tt.push(e),function(){var t=Tt.indexOf(e);Tt.splice(t,1)}}(this.limitRefresh.bind(this)))}return e.prototype.setState=function(e){void 0===e&&(e={}),this.state=At(At({},this.state),e),this.subscribe(this.state)},e.prototype._run=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.pollingTimer&&clearTimeout(this.pollingTimer),this.loadingDelayTimer&&clearTimeout(this.loadingDelayTimer),this.count+=1;var n=this.count;return this.setState({loading:!this.config.loadingDelay,params:t}),this.config.loadingDelay&&(this.loadingDelayTimer=setTimeout((function(){e.setState({loading:!0})}),this.config.loadingDelay)),this.service.apply(this,kt(t)).then((function(r){if(n!==e.count)return new Promise((function(){}));e.loadingDelayTimer&&clearTimeout(e.loadingDelayTimer);var o=e.config.formatResult?e.config.formatResult(r):r;return e.setState({data:o,error:void 0,loading:!1}),e.config.onSuccess&&e.config.onSuccess(o,t),o})).catch((function(r){if(n!==e.count)return new Promise((function(){}));if(e.loadingDelayTimer&&clearTimeout(e.loadingDelayTimer),e.setState({data:void 0,error:r,loading:!1}),e.config.onError&&e.config.onError(r,t),e.config.throwOnError)throw r;return console.error(r),Promise.reject("useRequest has caught the exception, if you need to handle the exception yourself, you can set options.throwOnError to true.")})).finally((function(){if(n===e.count&&e.config.pollingInterval){if(!yt()&&!e.config.pollingWhenHidden)return void(e.pollingWhenVisibleFlag=!0);e.pollingTimer=setTimeout((function(){e._run.apply(e,kt(t))}),e.config.pollingInterval)}}))},e.prototype.run=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.debounceRun?(this.debounceRun.apply(this,kt(e)),Promise.resolve(null)):this.throttleRun?(this.throttleRun.apply(this,kt(e)),Promise.resolve(null)):this._run.apply(this,kt(e))},e.prototype.cancel=function(){this.debounceRun&&this.debounceRun.cancel(),this.throttleRun&&this.throttleRun.cancel(),this.loadingDelayTimer&&clearTimeout(this.loadingDelayTimer),this.pollingTimer&&clearTimeout(this.pollingTimer),this.pollingWhenVisibleFlag=!1,this.count+=1,this.setState({loading:!1})},e.prototype.refresh=function(){return this.run.apply(this,kt(this.state.params))},e.prototype.rePolling=function(){this.pollingWhenVisibleFlag&&(this.pollingWhenVisibleFlag=!1,this.refresh())},e.prototype.mutate=function(e){"function"==typeof e?this.setState({data:e(this.state.data)||{}}):this.setState({data:e})},e.prototype.unmount=function(){this.cancel(),this.unsubscribe.forEach((function(e){e()}))},e}();function Bt(t,r){var n,o=r||{},i=o.refreshDeps,a=void 0===i?[]:i,s=o.manual,c=void 0!==s&&s,u=o.onSuccess,f=void 0===u?function(){}:u,l=o.onError,p=void 0===l?function(){}:l,d=o.defaultLoading,h=void 0!==d&&d,v=o.loadingDelay,m=o.pollingInterval,y=void 0===m?0:m,g=o.pollingWhenHidden,b=void 0===g||g,x=o.defaultParams,w=void 0===x?[]:x,O=o.refreshOnWindowFocus,E=void 0!==O&&O,j=o.focusTimespan,S=void 0===j?5e3:j,T=o.fetchKey,R=o.cacheKey,C=o.cacheTime,P=void 0===C?3e5:C,N=o.staleTime,A=void 0===N?0:N,D=o.debounceInterval,k=o.throttleInterval,L=o.initialData,U=o.ready,B=void 0===U||U,F=o.throwOnError,I=void 0!==F&&F,q=e.exports.useRef(Lt),M=jt(t),z=jt(f),W=jt(p),_=jt(T);"formatResult"in o&&(n=o.formatResult);var K={formatResult:jt(n),onSuccess:z,onError:W,loadingDelay:v,pollingInterval:y,pollingWhenHidden:b,refreshOnWindowFocus:!c&&E,focusTimespan:S,debounceInterval:D,throttleInterval:k,throwOnError:I},H=jt((function(e,t){X((function(r){return r[e]=t,At({},r)}))})),$=Dt(e.exports.useState((function(){var e;if(R){var t=null===(e=bt(R))||void 0===e?void 0:e.data;if(t){q.current=t.newstFetchKey;var r={};return Object.keys(t.fetches).forEach((function(e){var n=t.fetches[e],o=new Ut(M,K,H.bind(null,e),{loading:n.loading,params:n.params,data:n.data,error:n.error});r[e]=o.state})),r}}return{}})),2),V=$[0],X=$[1],G=e.exports.useRef(V);G.current=V;var J=e.exports.useRef(),Y=e.exports.useCallback((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(B){if(_){var r=_.apply(void 0,kt(e));q.current=void 0===r?Lt:r}var n=q.current,o=G.current[n];if(!o){var i=new Ut(M,K,H.bind(null,n),{data:L});o=i.state,X((function(e){return e[n]=o,At({},e)}))}return o.run.apply(o,kt(e))}J.current=e}),[T,H,B]),Q=e.exports.useRef(Y);Q.current=Y,St((function(){R&&function(e,t,r){var n=gt.get(e);(null==n?void 0:n.timer)&&clearTimeout(n.timer);var o=void 0;t>-1&&(o=setTimeout((function(){gt.delete(e)}),t)),gt.set(e,{data:r,timer:o,startTime:(new Date).getTime()})}(R,P,{fetches:V,newstFetchKey:q.current})}),[R,V]);var Z=e.exports.useRef(!1);St((function(){B&&(!Z.current&&J.current&&Q.current.apply(Q,kt(J.current)),Z.current=!0)}),[B]),e.exports.useEffect((function(){var e;if(!c)if(Object.keys(V).length>0){var t=R&&(null===(e=bt(R))||void 0===e?void 0:e.startTime)||0;-1===A||(new Date).getTime()-t<=A||Object.values(V).forEach((function(e){e.refresh()}))}else Q.current.apply(Q,kt(w))}),[]);var ee=e.exports.useCallback((function(){Object.values(G.current).forEach((function(e){e.unmount()})),q.current=Lt,X({}),G.current={}}),[X]);St((function(){c||Object.values(G.current).forEach((function(e){e.refresh()}))}),kt(a)),e.exports.useEffect((function(){return function(){Object.values(G.current).forEach((function(e){e.unmount()}))}}),[]);var te=e.exports.useCallback((function(e){return function(){console.warn("You should't call "+e+" when service not executed once.")}}),[]);return At(At({loading:B&&!c||h,data:L,error:void 0,params:[],cancel:te("cancel"),refresh:te("refresh"),mutate:te("mutate")},V[q.current]||{}),{run:Y,fetches:V,reset:ee})}var Ft=function(){return(Ft=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},It=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},qt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(It(arguments[t]));return e};function Mt(t,r){var n=r.refreshDeps,o=void 0===n?[]:n,i=r.ref,a=r.isNoMore,s=r.threshold,c=void 0===s?100:s;r.fetchKey;var u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(r,["refreshDeps","ref","isNoMore","threshold","fetchKey"]),f=It(e.exports.useState(!1),2),l=f[0],p=f[1];e.exports.useEffect((function(){r.fetchKey&&console.warn("useRequest loadMore mode don't need fetchKey!")}),[]);var d=Bt(t,Ft(Ft({},u),{fetchKey:function(e){var t;return(null===(t=null==e?void 0:e.list)||void 0===t?void 0:t.length)||0},onSuccess:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];p(!1),r.onSuccess&&r.onSuccess.apply(r,qt(e))}})),h=d.data,v=d.run,m=d.params,y=d.reset,g=d.loading,b=d.fetches,x=e.exports.useCallback((function(){y();var e=It(m).slice(1);v.apply(void 0,qt([void 0],e))}),[v,y,m]),w=e.exports.useRef(x);w.current=x,St((function(){r.manual||w.current()}),qt(o));var O=e.exports.useMemo((function(){var e=[],t=h;return Object.values(b).forEach((function(r){var n,o;(null===(n=r.data)||void 0===n?void 0:n.list)&&(e=e.concat(null===(o=r.data)||void 0===o?void 0:o.list)),r.loading||(t=r.data)})),Ft(Ft({},t),{list:e})}),[b,h]),E=!!a&&(!g&&!l&&a(O)),j=e.exports.useCallback((function(){if(!E){p(!0);var e=It(m).slice(1);v.apply(void 0,qt([O],e))}}),[E,v,O,m]),S=function(){!g&&!l&&i&&i.current&&i.current.scrollHeight-i.current.scrollTop<=i.current.clientHeight+c&&j()},T=e.exports.useRef(S);return T.current=S,e.exports.useEffect((function(){if(!i||!i.current)return function(){};var e=function(){return T.current()};return i.current.addEventListener("scroll",e),function(){i&&i.current&&i.current.removeEventListener("scroll",e)}}),[T]),Ft(Ft({},d),{data:O,reload:x,loading:g&&0===O.list.length,loadMore:j,loadingMore:l,noMore:E})}var zt=function(){return(zt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Wt=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},_t=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Kt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_t(arguments[t]));return e};var Ht=c.createContext({});Ht.displayName="UseRequestConfigContext";var $t=function(){return($t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Vt=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},Xt=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Gt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Xt(arguments[t]));return e};function Jt(t,r){void 0===r&&(r={});var n=e.exports.useContext(Ht),o=$t($t({},n),r),i=o.paginated,a=o.loadMore,s=o.requestMethod,c=e.exports.useRef(i),u=e.exports.useRef(a);if(c.current!==i)throw Error("You should not modify the paginated of options");if(u.current!==a)throw Error("You should not modify the loadMore of options");c.current=i,u.current=a;var f,l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return fetch.apply(void 0,Gt(e)).then((function(e){if(e.ok)return e.json();throw new Error(e.statusText)}))},p=s||l;switch(typeof t){case"string":f=function(){return p(t)};break;case"object":var d=t.url,h=Vt(t,["url"]);f=function(){return s?s(t):l(d,h)};break;default:f=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new Promise((function(r,n){var o=t.apply(void 0,Gt(e)),i=o;if(!o.then)switch(typeof o){case"string":i=p(o);break;case"object":var a=o.url,c=Vt(o,["url"]);i=s?s(o):l(a,c)}i.then(r).catch(n)}))}}return a?Mt(f,o):i?function(t,r){r.paginated;var n=r.defaultPageSize,o=void 0===n?10:n,i=r.refreshDeps,a=void 0===i?[]:i,s=r.fetchKey,c=Wt(r,["paginated","defaultPageSize","refreshDeps","fetchKey"]);e.exports.useEffect((function(){s&&console.error("useRequest pagination's fetchKey will not work!")}),[]);var u=Bt(t,zt({defaultParams:[{current:1,pageSize:o}]},c)),f=u.data,l=u.params,p=u.run,d=u.loading,h=Wt(u,["data","params","run","loading"]),v=l&&l[0]?l[0]:{},m=v.current,y=void 0===m?1:m,g=v.pageSize,b=void 0===g?o:g,x=v.sorter,w=void 0===x?{}:x,O=v.filters,E=void 0===O?{}:O,j=e.exports.useCallback((function(e){var t=_t(l),r=t[0],n=t.slice(1);p.apply(void 0,Kt([zt(zt({},r),e)],n))}),[p,l]),S=(null==f?void 0:f.total)||0,T=e.exports.useMemo((function(){return Math.ceil(S/b)}),[b,S]),R=e.exports.useCallback((function(e,t){j({current:e,pageSize:t})}),[S,j]),C=e.exports.useCallback((function(e){R(e,b)}),[R,b]),P=e.exports.useCallback((function(e){R(y,e)}),[R,y]),N=e.exports.useRef(C);N.current=C,St((function(){r.manual||N.current(1)}),Kt(a));var A=e.exports.useCallback((function(e,t,r){j({current:e.current,pageSize:e.pageSize||o,filters:t,sorter:r})}),[E,w,j]);return zt({loading:d,data:f,params:l,run:p,pagination:{current:y,pageSize:b,total:S,totalPage:T,onChange:R,changeCurrent:C,changePageSize:P},tableProps:{dataSource:(null==f?void 0:f.list)||[],loading:d,onChange:A,pagination:{current:y,pageSize:b,total:S}},sorter:w,filters:E},h)}(f,o):Bt(f,o)}Ht.Provider;var Yt=e.exports.memo((()=>(Jt(qe,{onSuccess:e=>{console.log(e)}}),c.createElement("div",null,c.createElement(b,null)))));export default Yt;

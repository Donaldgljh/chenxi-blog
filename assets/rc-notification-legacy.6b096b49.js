System.register(["./@babel-legacy.f580aa0a.js","./react-legacy.0e757699.js","./react-dom-legacy.91d0f71c.js","./classnames-legacy.5e058700.js","./rc-motion-legacy.db07759c.js"],(function(e){"use strict";var t,n,o,r,a,s,c,i,l,u,p,f,d,m;return{setters:[function(e){t=e.c,n=e.d,o=e.e,r=e.f,a=e.b,s=e.g,c=e.h,i=e.i,l=e.m,u=e.n},function(e){p=e.r},function(e){f=e.R},function(e){d=e.c},function(e){m=e.a}],execute:function(){e("u",h);var v=function(e){t(i,e);var c=n(i);function i(){var e;o(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,o=n.onClose,r=n.noticeKey;o&&o(r)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return r(i,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,o=t.className,r=t.closable,c=t.closeIcon,i=t.style,l=t.onClick,u=t.children,m=t.holder,v="".concat(n,"-notice"),h=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),y=p.exports.createElement("div",a({className:d(v,o,s({},"".concat(v,"-closable"),r)),style:i,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:l},h),p.exports.createElement("div",{className:"".concat(v,"-content")},u),r?p.exports.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(v,"-close")},c||p.exports.createElement("span",{className:"".concat(v,"-close-x")})):null);return m?f.createPortal(y,m):y}}]),i}(p.exports.Component);function h(e){var t=p.exports.useRef({}),n=p.exports.useState([]),o=c(n,2),r=o[0],s=o[1];return[function(n){var o=!0;e.add(n,(function(e,n){var r=n.key;if(e&&(!t.current[r]||o)){var c=p.exports.createElement(v,a({},n,{holder:e}));t.current[r]=c,s((function(e){var t=e.findIndex((function(e){return e.key===n.key}));if(-1===t)return[].concat(i(e),[c]);var o=i(e);return o[t]=c,o}))}o=!1}))},p.exports.createElement(p.exports.Fragment,null,r)]}v.defaultProps={onClose:function(){},duration:1.5};var y=0,k=Date.now();function C(){var e=y;return y+=1,"rcNotification_".concat(k,"_").concat(e)}var x=e("N",function(e){t(c,e);var s=n(c);function c(){var e;o(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=s.call.apply(s,[this].concat(n))).state={notices:[]},e.hookRefs=new Map,e.add=function(t,n){var o=t.key||C(),r=l(l({},t),{},{key:o}),a=e.props.maxCount;e.setState((function(e){var t=e.notices,s=t.map((function(e){return e.notice.key})).indexOf(o),c=t.concat();return-1!==s?c.splice(s,1,{notice:r,holderCallback:n}):(a&&t.length>=a&&(r.key=c[0].notice.key,r.updateMark=C(),r.userPassKey=o,c.shift()),c.push({notice:r,holderCallback:n})),{notices:c}}))},e.remove=function(t){e.setState((function(e){return{notices:e.notices.filter((function(e){var n=e.notice,o=n.key;return(n.userPassKey||o)!==t}))}}))},e.noticePropsMap={},e}return r(c,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,n=e.animation,o=this.props.transitionName;return!o&&n&&(o="".concat(t,"-").concat(n)),o}},{key:"render",value:function(){var e=this,t=this.state.notices,n=this.props,o=n.prefixCls,r=n.className,s=n.closeIcon,c=n.style,i=[];return t.forEach((function(n,r){var a=n.notice,c=n.holderCallback,u=r===t.length-1?a.updateMark:void 0,p=a.key,f=a.userPassKey,d=l(l(l({prefixCls:o,closeIcon:s},a),a.props),{},{key:p,noticeKey:f||p,updateMark:u,onClose:function(t){var n;e.remove(t),null===(n=a.onClose)||void 0===n||n.call(a)},onClick:a.onClick,children:a.content});i.push(p),e.noticePropsMap[p]={props:d,holderCallback:c}})),p.exports.createElement("div",{className:d(o,r),style:c},p.exports.createElement(m,{keys:i,motionName:this.getTransitionName(),onVisibleChanged:function(t,n){var o=n.key;t||delete e.noticePropsMap[o]}},(function(t){var n=t.key,r=t.className,s=t.style,c=t.visible,i=e.noticePropsMap[n],u=i.props,f=i.holderCallback;return f?p.exports.createElement("div",{key:n,className:d(r,"".concat(o,"-hook-holder")),style:l({},s),ref:function(t){void 0!==n&&(t?(e.hookRefs.set(n,t),f(t,u)):e.hookRefs.delete(n))}}):p.exports.createElement(v,a({},u,{className:d(r,null==u?void 0:u.className),style:l(l({},s),null==u?void 0:u.style),visible:c}))})))}}]),c}(p.exports.Component));x.newInstance=void 0,x.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},x.newInstance=function(e,t){var n=e||{},o=n.getContainer,r=u(n,["getContainer"]),s=document.createElement("div");o?o().appendChild(s):document.body.appendChild(s);var c=!1;f.render(p.exports.createElement(x,a({},r,{ref:function(e){c||(c=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){f.unmountComponentAtNode(s),s.parentNode&&s.parentNode.removeChild(s)},useNotification:function(){return h(e)}}))}})),s)}}}}));

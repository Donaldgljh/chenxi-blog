System.register(["./@babel-legacy.f580aa0a.js","./react-legacy.0e757699.js","./rc-util-legacy.0b3b3659.js","./resize-observer-polyfill-legacy.ece26034.js"],(function(e){"use strict";var t,i,n,s,r,o,l,h,c,f,a,d;return{setters:[function(e){t=e.c,i=e.d,n=e.e,s=e.m,r=e.f},function(e){o=e.r},function(e){l=e.r,h=e.t,c=e.w,f=e.s,a=e.c},function(e){d=e.i}],execute:function(){e("R",function(e){t(v,e);var u=i(v);function v(){var e;return n(this,v),(e=u.apply(this,arguments)).resizeObserver=null,e.childNode=null,e.currentElement=null,e.state={width:0,height:0,offsetHeight:0,offsetWidth:0},e.onResize=function(t){var i=e.props.onResize,n=t[0].target,r=n.getBoundingClientRect(),o=r.width,l=r.height,h=n.offsetWidth,c=n.offsetHeight,f=Math.floor(o),a=Math.floor(l);if(e.state.width!==f||e.state.height!==a||e.state.offsetWidth!==h||e.state.offsetHeight!==c){var d={width:f,height:a,offsetWidth:h,offsetHeight:c};e.setState(d),i&&Promise.resolve().then((function(){i(s(s({},d),{},{offsetWidth:h,offsetHeight:c}),n)}))}},e.setChildNode=function(t){e.childNode=t},e}return r(v,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"componentDidUpdate",value:function(){this.onComponentUpdated()}},{key:"componentWillUnmount",value:function(){this.destroyObserver()}},{key:"onComponentUpdated",value:function(){if(this.props.disabled)this.destroyObserver();else{var e=l(this.childNode||this);e!==this.currentElement&&(this.destroyObserver(),this.currentElement=e),!this.resizeObserver&&e&&(this.resizeObserver=new d(this.onResize),this.resizeObserver.observe(e))}}},{key:"destroyObserver",value:function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}},{key:"render",value:function(){var e=this.props.children,t=h(e);if(t.length>1)c(!1,"Find more than one child node with `children` in ResizeObserver. Will only observe first one.");else if(0===t.length)return c(!1,"`children` of ResizeObserver is empty. Nothing is in observe."),null;var i=t[0];if(o.exports.isValidElement(i)&&f(i)){var n=i.ref;t[0]=o.exports.cloneElement(i,{ref:a(n,this.setChildNode)})}return 1===t.length?t[0]:t.map((function(e,t){return!o.exports.isValidElement(e)||"key"in e&&null!==e.key?e:o.exports.cloneElement(e,{key:"".concat("rc-observer-key","-").concat(t)})}))}}]),v}(o.exports.Component)).displayName="ResizeObserver"}}}));

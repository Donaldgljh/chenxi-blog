import"./react.eb42bb38.js";import"./classnames.ca41f454.js";import"./react-is.d3744c61.js";import{k as e}from"./@babel.023f8892.js";import{w as n}from"./rc-util.52d3e9c9.js";function r(e,n){var r=e.slice(),t=r.indexOf(n);return t>=0&&r.splice(t,1),r}function t(e,n){var r=e.slice();return-1===r.indexOf(n)&&r.push(n),r}function a(e,n){return null!=e?e:n}function o(n,r,t){var o,i,c=null,f=e(t);"function"===f||"string"===f?c=t:t&&"object"===f&&(o=t.childrenPropName,c=t.externalGetKey),o=o||"children",c?"string"==typeof c?i=function(e){return e[c]}:"function"==typeof c&&(i=function(e){return c(e)}):i=function(e,n){return a(e.key,n)},function e(t,a,c){var f=t?t[o]:n,d=t?function(e,n){return"".concat(e,"-").concat(n)}(c.pos,a):"0";if(t){var s=i(t,d),l={node:t,index:a,pos:d,key:s,parentPos:c.node?c.pos:null,level:c.level+1};r(l)}f&&f.forEach((function(n,r){e(n,r,{node:t,pos:d,level:c?c.level+1:-1})}))}(null)}function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.initWrapper,t=n.processEntity,i=n.onProcessFinished,c=n.externalGetKey,f=n.childrenPropName,d=arguments.length>2?arguments[2]:void 0,s=c||d,l={},u={},h={posEntities:l,keyEntities:u};return r&&(h=r(h)||h),o(e,(function(e){var n=e.node,r=e.index,o=e.pos,i=e.key,c=e.parentPos,f={node:n,index:r,key:i,pos:o,level:e.level},d=a(i,o);l[o]=f,u[d]=f,f.parent=l[c],f.parent&&(f.parent.children=f.parent.children||[],f.parent.children.push(f)),t&&t(f,h)}),{externalGetKey:s,childrenPropName:f}),i&&i(h),h}function c(e,n){var r=new Set;return e.forEach((function(e){n.has(e)||r.add(e)})),r}function f(e){var n=e||{},r=n.disabled,t=n.disableCheckbox,a=n.checkable;return!(!r&&!t)||!1===a}function d(e,r,t,a){var o,i=[];o=a||f;var d=new Set(e.filter((function(e){var n=!!t[e];return n||i.push(e),n}))),s=new Map,l=0;return Object.keys(t).forEach((function(e){var n=t[e],r=n.level,a=s.get(r);a||(a=new Set,s.set(r,a)),a.add(n),l=Math.max(l,r)})),n(!i.length,"Tree missing follow keys: ".concat(i.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),!0===r?function(e,n,r,t){for(var a=new Set(e),o=new Set,i=0;i<=r;i+=1)(n.get(i)||new Set).forEach((function(e){var n=e.key,r=e.node,o=e.children,i=void 0===o?[]:o;a.has(n)&&!t(r)&&i.filter((function(e){return!t(e.node)})).forEach((function(e){a.add(e.key)}))}));for(var f=new Set,d=r;d>=0;d-=1)(n.get(d)||new Set).forEach((function(e){var n=e.parent,r=e.node;if(!t(r)&&e.parent&&!f.has(e.parent.key))if(t(e.parent.node))f.add(n.key);else{var i=!0,c=!1;(n.children||[]).filter((function(e){return!t(e.node)})).forEach((function(e){var n=e.key,r=a.has(n);i&&!r&&(i=!1),c||!r&&!o.has(n)||(c=!0)})),i&&a.add(n.key),c&&o.add(n.key),f.add(n.key)}}));return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(c(o,a))}}(d,s,l,o):function(e,n,r,t,a){for(var o=new Set(e),i=new Set(n),f=0;f<=t;f+=1)(r.get(f)||new Set).forEach((function(e){var n=e.key,r=e.node,t=e.children,c=void 0===t?[]:t;o.has(n)||i.has(n)||a(r)||c.filter((function(e){return!a(e.node)})).forEach((function(e){o.delete(e.key)}))}));i=new Set;for(var d=new Set,s=t;s>=0;s-=1)(r.get(s)||new Set).forEach((function(e){var n=e.parent,r=e.node;if(!a(r)&&e.parent&&!d.has(e.parent.key))if(a(e.parent.node))d.add(n.key);else{var t=!0,c=!1;(n.children||[]).filter((function(e){return!a(e.node)})).forEach((function(e){var n=e.key,r=o.has(n);t&&!r&&(t=!1),c||!r&&!i.has(n)||(c=!0)})),t||o.delete(n.key),c&&i.add(n.key),d.add(n.key)}}));return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(c(i,o))}}(d,r.halfCheckedKeys,s,l,o)}export{d as a,r as b,i as c,t as d};
